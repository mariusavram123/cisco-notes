annotations:
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: D
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: -240.0
    y1: 40.0
    z_index: 0
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: D
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: -160.0
    y1: 40.0
    z_index: 1
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: R
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: -240.0
    y1: -40.0
    z_index: 2
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: ''
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: -120.0
    y1: -80.0
    z_index: 3
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: D
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: -120.0
    y1: -80.0
    z_index: 4
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: R
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 40.0
    y1: 120.0
    z_index: 5
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: A
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 40.0
    y1: 0.0
    z_index: 6
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: D
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 160.0
    y1: 40.0
    z_index: 7
  - border_color: '#00000000'
    border_style: ''
    color: '#808080FF'
    rotation: 0
    text_bold: false
    text_content: R
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 360.0
    y1: 40.0
    z_index: 8
  - border_color: '#808080FF'
    border_radius: 0
    border_style: ''
    color: '#BBC021FF'
    rotation: 0
    thickness: 1
    type: rectangle
    x1: -240.0
    y1: 40.0
    x2: 80.0
    y2: 80.0
    z_index: 9
smart_annotations: []
nodes:
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: "Building configuration...\n\nCurrent configuration : 3562 bytes\n\
          !\n! Last configuration change at 18:58:50 UTC Fri May 9 2025\n!\nversion\
          \ 17.15\nservice timestamps debug datetime msec\nservice timestamps log\
          \ datetime msec\n!\nhostname SW1\n!\nboot-start-marker\nboot-end-marker\n\
          !\n!\nno logging console\nno aaa new-model\n!\n!\n!\n!\n!\n!\n!\n!\n!\n\
          !\n!\n!\n!\nip audit notify log\nip audit po max-events 100\nip cef\nlogin\
          \ on-success log\nno ipv6 cef\n!\n!\n!\n!\n!\n!\n!\n!\ncrypto pki trustpoint\
          \ TP-self-signed-131184725\n enrollment selfsigned\n subject-name cn=IOS-Self-Signed-Certificate-131184725\n\
          \ revocation-check none\n rsakeypair TP-self-signed-131184725\n hash sha512\n\
          !\n!\ncrypto pki certificate chain TP-self-signed-131184725\n certificate\
          \ self-signed 01\n  3082032E 30820216 A0030201 02020101 300D0609 2A864886\
          \ F70D0101 0D050030\n  30312E30 2C060355 04030C25 494F532D 53656C66 2D536967\
          \ 6E65642D 43657274\n  69666963 6174652D 31333131 38343732 35301E17 0D323530\
          \ 35303931 38353834\n  385A170D 33353035 30393138 35383438 5A303031 2E302C06\
          \ 03550403 0C25494F\n  532D5365 6C662D53 69676E65 642D4365 72746966 69636174\
          \ 652D3133 31313834\n  37323530 82012230 0D06092A 864886F7 0D010101 05000382\
          \ 010F0030 82010A02\n  82010100 E18DC5F8 42F47869 1B910F96 82BC9B52 FE60FBEF\
          \ 7152D59C BAF30146\n  00B53CA4 E8F798EC C01DA8AF 7C5DADBB 14201FD0 36CAE3FC\
          \ 1C515405 1D009CFD\n  076A141D BA6B7FD3 AE3CDF01 7C3A9F41 683DAD37 D0DD7768\
          \ B15084C0 F012A742\n  6D6F8090 1CC9EBCA C046833A 030EADBC AFEB41A3 F7AD76C2\
          \ 0BA084F4 EC707BFB\n  5EC7FEBD 5ED17D65 4246CC54 1629BAF1 7B802869 24A2D7B0\
          \ 19738966 78B31C8F\n  383AE452 D5EAE658 4C00C8B8 CBCBED31 21D9718D 617B4574\
          \ 5E89DBAF BFCC400C\n  A126AB64 B673F713 9A9768FE 64266986 3ABF7397 30908B28\
          \ 40CB2931 7207D792\n  3B7105FD 85F2DC51 48651704 D8F36D8C C6A2BD99 362D31A7\
          \ 5F7FE9DC 71084B29\n  E28DA09D 02030100 01A35330 51301D06 03551D0E 04160414\
          \ EB833ED9 06BBB2DB\n  0657F3B5 2453190B 548C6E73 301F0603 551D2304 18301680\
          \ 14EB833E D906BBB2\n  DB0657F3 B5245319 0B548C6E 73300F06 03551D13 0101FF04\
          \ 05300301 01FF300D\n  06092A86 4886F70D 01010D05 00038201 0100780F 0ECB6CB9\
          \ 0A38C17E 52C417D3\n  DB89C3EE 4EC25AA2 2F315E2A E6A20224 19CEAD83 06811EA5\
          \ 464B0211 5DF1CC8C\n  CF420838 5662F458 28CEE21D 783448E1 13686E0D DCA36721\
          \ DD920AAB 1AECDFD5\n  C140DEE3 5F25779B 70D59FA1 2C0A2526 A78784C7 A8DC5701\
          \ 857B4D08 3C58BB89\n  347EA997 F4B38D95 B3441693 4BAA3D21 51E2A6C3 402CDE5A\
          \ C6BA3C88 113DA61F\n  1E03D165 FBD966A9 07677889 E04B5BC9 40EB5FC1 2094111C\
          \ 8E059EF0 5FA2A6AF\n  D14AC0AB ACB073BC AA056155 9BF185A8 CFE00846 A347F001\
          \ AEDEEC50 CFE38C03\n  B2A80617 AEBBC463 50B56F2B D7660F12 A4317982 B7D06153\
          \ 9D62354B 926E93E3\n  41DCB92C CDBCA2C6 DD669EE4 73CCF5F1 B0E1\n  \tquit\n\
          !\n!\nmemory free low-watermark processor 79593\n!\n!\nspanning-tree mode\
          \ pvst\nspanning-tree loopguard default\nspanning-tree extend system-id\n\
          no spanning-tree vlan 1-9,11-4094\nspanning-tree vlan 10 priority 4096\n\
          !\n!\nvlan internal allocation policy ascending\nno cdp run\n!\n!\n!\n!\n\
          !\ninterface Ethernet0/0\n switchport trunk encapsulation dot1q\n switchport\
          \ trunk allowed vlan 10\n switchport mode trunk\n switchport nonegotiate\n\
          \ spanning-tree cost 4\n!\ninterface Ethernet0/1\n switchport trunk encapsulation\
          \ dot1q\n switchport trunk allowed vlan 10\n switchport mode trunk\n switchport\
          \ nonegotiate\n spanning-tree cost 4\n!\ninterface Ethernet0/2\n!\ninterface\
          \ Ethernet0/3\n!\ninterface Vlan10\n ip address 10.0.0.1 255.255.255.0\n\
          \ shutdown\n!\nip forward-protocol nd\n!\n!\nip http server\nip http secure-server\n\
          ip ssh bulk-mode 131072\n!\nno logging btrace\n!\n!\n!\ncontrol-plane\n\
          !\n!\n!\nline con 0\n exec-timeout 0 0\n logging synchronous\nline aux 0\n\
          line vty 0 4\n exec-timeout 0 0\n login\n transport input ssh\n!\n!\nend"
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n0
    image_definition: null
    label: SW1
    node_definition: ioll2-xe
    parameters: {}
    ram: null
    tags: []
    x: -200
    y: 80
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: Ethernet0/0
        mac_address: null
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        mac_address: null
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        mac_address: null
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        mac_address: null
        slot: 3
        type: physical
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          Building configuration...

          Current configuration : 1290 bytes
          !
          ! Last configuration change at 18:58:50 UTC Fri May 9 2025
          !
          version 17.15
          service timestamps debug datetime msec
          service timestamps log datetime msec
          !
          hostname SW2
          !
          boot-start-marker
          boot-end-marker
          !
          !
          no logging console
          no aaa new-model
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          ip audit notify log
          ip audit po max-events 100
          ip cef
          login on-success log
          no ipv6 cef
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          memory free low-watermark processor 79593
          !
          !
          spanning-tree mode pvst
          spanning-tree loopguard default
          spanning-tree extend system-id
          no spanning-tree vlan 1-9,11-4094
          spanning-tree vlan 10 priority 8192
          !
          !
          vlan internal allocation policy ascending
          no cdp run
          !
          !
          !
          !
          !
          interface Ethernet0/0
           switchport trunk encapsulation dot1q
           switchport trunk allowed vlan 10
           switchport mode trunk
           switchport nonegotiate
           spanning-tree cost 4
          !
          interface Ethernet0/1
           switchport trunk encapsulation dot1q
           switchport trunk allowed vlan 10
           switchport mode trunk
           switchport nonegotiate
           spanning-tree cost 4
          !
          interface Ethernet0/2
          !
          interface Ethernet0/3
          !
          ip forward-protocol nd
          !
          !
          ip http server
          ip http secure-server
          ip ssh bulk-mode 131072
          !
          no logging btrace
          !
          !
          !
          control-plane
          !
          !
          !
          line con 0
           exec-timeout 0 0
           logging synchronous
          line aux 0
          line vty 0 4
           exec-timeout 0 0
           login
           transport input ssh
          !
          !
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n1
    image_definition: null
    label: SW2
    node_definition: ioll2-xe
    parameters: {}
    ram: null
    tags: []
    x: -200
    y: -80
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: Ethernet0/0
        mac_address: null
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        mac_address: null
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        mac_address: null
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        mac_address: null
        slot: 3
        type: physical
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: "Building configuration...\n\nCurrent configuration : 3603 bytes\n\
          !\n! Last configuration change at 18:58:50 UTC Fri May 9 2025\n!\nversion\
          \ 17.15\nservice timestamps debug datetime msec\nservice timestamps log\
          \ datetime msec\n!\nhostname SW3\n!\nboot-start-marker\nboot-end-marker\n\
          !\n!\nno logging console\nno aaa new-model\n!\n!\n!\n!\n!\n!\n!\n!\n!\n\
          !\n!\n!\n!\nip audit notify log\nip audit po max-events 100\nip cef\nlogin\
          \ on-success log\nno ipv6 cef\n!\n!\n!\n!\n!\n!\n!\n!\ncrypto pki trustpoint\
          \ TP-self-signed-131184726\n enrollment selfsigned\n subject-name cn=IOS-Self-Signed-Certificate-131184726\n\
          \ revocation-check none\n rsakeypair TP-self-signed-131184726\n hash sha512\n\
          !\n!\ncrypto pki certificate chain TP-self-signed-131184726\n certificate\
          \ self-signed 01\n  3082032E 30820216 A0030201 02020101 300D0609 2A864886\
          \ F70D0101 0D050030\n  30312E30 2C060355 04030C25 494F532D 53656C66 2D536967\
          \ 6E65642D 43657274\n  69666963 6174652D 31333131 38343732 36301E17 0D323530\
          \ 35303931 38353834\n  345A170D 33353035 30393138 35383434 5A303031 2E302C06\
          \ 03550403 0C25494F\n  532D5365 6C662D53 69676E65 642D4365 72746966 69636174\
          \ 652D3133 31313834\n  37323630 82012230 0D06092A 864886F7 0D010101 05000382\
          \ 010F0030 82010A02\n  82010100 BFE5D116 92EF8558 2A4C007C 53F8A72F EAC4E4F0\
          \ C2FE45E7 C1659B34\n  416A6B16 598F890D 283B49A4 A98A47FB C31FD774 F1899ABE\
          \ 9D244B0F 356F1DBA\n  6AE657CF EDE2614C 57595A29 7C6CF7BB 597F6B1A BEA2C3CE\
          \ 9A652AC9 37A05E53\n  44FC0951 E77DEDA5 CC56C70F CCD943A0 5CF38481 1D60BA9C\
          \ 15E85922 8FF1632A\n  D9470EA3 FFFE329C 5C13206E 94DC7D09 3DEB1C35 DD285398\
          \ 509ECB53 0EB43FFE\n  C30D7266 08A40844 7FAA13C2 AD767803 512193B5 D017E6D2\
          \ DAA4EF1A AF91BEB2\n  DD64420E 90C0A34B 34E933EF EAAF94A9 8C6601AD 04F4CF3B\
          \ C436F94B 32514762\n  C58B0BC0 3CC529C9 1F81104F B6A53E02 6A5F82AB D770B1C9\
          \ 39E6C9DC C7D0D09C\n  9D02DAA3 02030100 01A35330 51301D06 03551D0E 04160414\
          \ 9D027B19 4999CD06\n  9519121E B92D7831 C4B32E3F 301F0603 551D2304 18301680\
          \ 149D027B 194999CD\n  06951912 1EB92D78 31C4B32E 3F300F06 03551D13 0101FF04\
          \ 05300301 01FF300D\n  06092A86 4886F70D 01010D05 00038201 010016A8 5229E250\
          \ 4E7C09CA 1B2F04DF\n  794822B1 8554246F 14702D05 6398DAC7 FB86A5DE 6B634D2D\
          \ 010283B6 2777E6B9\n  ED8C79AA E6987A90 81016C7C 53FD25FC CBA50C7A 8C254062\
          \ 0CB3F4ED 025A636F\n  CFB2F0E3 A27A17F8 E1C62600 9FF2C954 9E47581D 99A261EA\
          \ 902127AE 16CF6BF9\n  6982554A 39A6FF8E 53618AE0 BFF0ED57 5ECA7E05 60C719CA\
          \ 613DE6D1 5A6F39FF\n  5DD18256 27BB3FE9 1C3AA3E1 3C783DB6 E62DC84E 6B75F043\
          \ 96941913 8EC612C1\n  A27F9D5A BB789442 BC6C9538 27F0C460 8DAFD816 D1A39B91\
          \ 637BC766 3FA5DCBE\n  290E8345 F3467458 E3455DEB F7265ABD D4FA4D30 56D231F5\
          \ DD2F6110 1AE44CBF\n  1E4B0507 F04B2BF6 4051162E BF945655 D744\n  \tquit\n\
          !\n!\nmemory free low-watermark processor 79593\n!\n!\nspanning-tree mode\
          \ pvst\nspanning-tree extend system-id\nno spanning-tree vlan 1-9,11-4094\n\
          !\n!\nvlan internal allocation policy ascending\nno cdp run\n!\n!\n!\n!\n\
          !\ninterface Ethernet0/0\n switchport trunk encapsulation dot1q\n switchport\
          \ trunk allowed vlan 10\n switchport mode trunk\n switchport nonegotiate\n\
          \ spanning-tree cost 4\n!\ninterface Ethernet0/1\n switchport trunk encapsulation\
          \ dot1q\n switchport trunk allowed vlan 10\n switchport mode trunk\n switchport\
          \ nonegotiate\n spanning-tree cost 4\n!\ninterface Ethernet0/2\n switchport\
          \ trunk encapsulation dot1q\n switchport trunk allowed vlan 10\n switchport\
          \ mode trunk\n switchport nonegotiate\n!\ninterface Ethernet0/3\n!\ninterface\
          \ Vlan10\n ip address 10.0.0.2 255.255.255.0\n!\nip forward-protocol nd\n\
          !\n!\nip http server\nip http secure-server\nip ssh bulk-mode 131072\n!\n\
          no logging btrace\n!\n!\n!\ncontrol-plane\n!\n!\n!\nline con 0\n exec-timeout\
          \ 0 0\n logging synchronous\nline aux 0\nline vty 0 4\n exec-timeout 0 0\n\
          \ login\n transport input ssh\n!\n!\nend"
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n2
    image_definition: null
    label: SW3
    node_definition: ioll2-xe
    parameters: {}
    ram: null
    tags: []
    x: 120
    y: 80
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: Ethernet0/0
        mac_address: null
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        mac_address: null
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        mac_address: null
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        mac_address: null
        slot: 3
        type: physical
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          Building configuration...

          Current configuration : 1146 bytes
          !
          ! Last configuration change at 18:58:52 UTC Fri May 9 2025
          !
          version 17.15
          service timestamps debug datetime msec
          service timestamps log datetime msec
          !
          hostname CustomerSwitch
          !
          boot-start-marker
          boot-end-marker
          !
          !
          no logging console
          no aaa new-model
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          ip audit notify log
          ip audit po max-events 100
          ip cef
          login on-success log
          no ipv6 cef
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          memory free low-watermark processor 79593
          !
          !
          spanning-tree mode pvst
          spanning-tree extend system-id
          no spanning-tree vlan 1-9,11-4094
          !
          !
          vlan internal allocation policy ascending
          no cdp run
          !
          !
          !
          !
          !
          interface Ethernet0/0
           switchport trunk encapsulation dot1q
           switchport trunk allowed vlan 10
           switchport mode trunk
           switchport nonegotiate
           spanning-tree cost 4
          !
          interface Ethernet0/1
          !
          interface Ethernet0/2
          !
          interface Ethernet0/3
          !
          interface Vlan10
           ip address 10.0.0.4 255.255.255.0
          !
          ip forward-protocol nd
          !
          !
          ip http server
          ip http secure-server
          ip ssh bulk-mode 131072
          !
          no logging btrace
          !
          !
          !
          control-plane
          !
          !
          !
          line con 0
           exec-timeout 0 0
           logging synchronous
          line aux 0
          line vty 0 4
           exec-timeout 0 0
           login
           transport input ssh
          !
          !
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n3
    image_definition: null
    label: CustomerSwitch
    node_definition: ioll2-xe
    parameters: {}
    ram: null
    tags: []
    x: 400
    y: 80
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: Ethernet0/0
        mac_address: null
        slot: 0
        type: physical
      - id: i2
        label: Ethernet0/1
        mac_address: null
        slot: 1
        type: physical
      - id: i3
        label: Ethernet0/2
        mac_address: null
        slot: 2
        type: physical
      - id: i4
        label: Ethernet0/3
        mac_address: null
        slot: 3
        type: physical
links:
  - id: l0
    n1: n0
    n2: n1
    i1: i1
    i2: i1
    conditioning: {}
    label: SW1-Ethernet0/0<->SW2-Ethernet0/0
  - id: l1
    n1: n0
    n2: n2
    i1: i2
    i2: i1
    conditioning: {}
    label: SW1-Ethernet0/1<->SW3-Ethernet0/0
  - id: l2
    n1: n1
    n2: n2
    i1: i2
    i2: i2
    conditioning: {}
    label: SW2-Ethernet0/1<->SW3-Ethernet0/1
  - id: l3
    n1: n2
    n2: n3
    i1: i3
    i2: i1
    conditioning: {}
    label: SW3-Ethernet0/2<->CustomerSwitch-Ethernet0/0
lab:
  description: ''
  notes: |-
    ## Lab Instructions
    1) Verify the STP topology and enable STP event debugging on all switches.
    2) Lower the CustomerSwitch's STP priority to make it the Root Bridge.
    3) Enable Root Guard where appropriate.
    - Verify that Root Guard works.
    - Fix the problem. What happens after?
    4) Use BPDU Filter to cause a Layer 2 loop in the LAN.
    - Disable BPDU Filter to stop the loop.
    5) Enable Loop Guard where appropriate.
    - Verify that Loop Guard works by enabling BPDU Filter again.
    - Disable BPDU Filter again. What happens after?
  title: RootGuard and LoopGuard
  version: 0.3.0
